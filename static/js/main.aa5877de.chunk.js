(this.webpackJsonppurchase_order=this.webpackJsonppurchase_order||[]).push([[0],{17:function(e,t,r){},20:function(e,t,r){},21:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r.n(a),s=r(10),c=r.n(s),i=(r(17),r(3),r(4),r(7)),A=r(2),d=r(6),l=r(11),o=r(12),O=function(){function e(t){var r=this;Object(l.a)(this,e),this.MAX_HEIGHT_HEADER=800,this.MAX_HEIGHT=928,this.order=void 0,this.orderGroups=[],this.getTotalQty=function(){var e,t=0,a=Object(d.a)(r.order.order_lines);try{for(a.s();!(e=a.n()).done;){t+=e.value.quantity}}catch(n){a.e(n)}finally{a.f()}return t},this.order=t}return Object(o.a)(e,[{key:"getHeight",value:function(e){return 16*e+8}},{key:"convertToLocalTZ",value:function(e){return function(e){return"".concat(e.getFullYear(),"-").concat(String(e.getMonth()+1).padStart(2,"0"),"-").concat(String(e.getDate()).padStart(2,"0")," ").concat(String(e.getHours()).padStart(2,"0"),":").concat(String(e.getMinutes()).padStart(2,"0"),":").concat(String(e.getSeconds()).padStart(2,"0"))}(new Date(e.replace(" ","T")+".000Z"))}},{key:"getGroups",value:function(){this.orderGroups=[];var e,t=0,r=1,a=0,n={order_details:Object(A.a)(Object(A.a)({},this.order.order_details),{},{page:r,totalPages:0}),order_lines:[]},s=Object(d.a)(this.order.order_lines);try{for(s.s();!(e=s.n()).done;){var c=e.value,i=Math.ceil(c.name.length/61),l=Math.ceil(c.cats.split(" / ")[2].length/13),o=Math.ceil(String(c.quantity).length/4),O=Math.max(i,l,o),b=Object(A.a)(Object(A.a)({},c),{},{lineHeight:O});n.order_lines.push(b),(a+=this.getHeight(O))>(0===this.orderGroups.length?this.MAX_HEIGHT_HEADER:this.MAX_HEIGHT)&&(n.order_lines.pop(),this.orderGroups.push(n),r++,t+=1,a=this.getHeight(b.lineHeight),n={order_details:Object(A.a)(Object(A.a)({},this.order.order_details),{},{page:r,totalPages:0}),order_lines:[b]})}}catch(T){s.e(T)}finally{s.f()}n.order_lines.length>0&&(this.orderGroups.push(n),t+=1);var j,m=this.convertToLocalTZ(this.order.order_details.datetime),E=Object(d.a)(this.orderGroups);try{for(E.s();!(j=E.n()).done;){var S=j.value;S.order_details.datetime=m,S.order_details.totalPages=t}}catch(T){E.e(T)}finally{E.f()}return this.orderGroups}}]),e}(),b=r(0),j=function(e){var t=e.order_details;return Object(b.jsxs)("div",{children:["P\xe1gina ",t.page," de ",t.totalPages]})},m=function(e){var t=e.split(" ");return t.length>2?"".concat(t[0]," ").concat(t[1]):e},E=function(e){var t=e.order_details,r=e.totalQty,a=e.store;return Object(b.jsxs)("div",{className:"border-b border-black border-dashed mb-2",children:[Object(b.jsxs)("h2",{className:"text-lg font-semibold",children:[Object(b.jsx)("span",{children:t.name}),"\xa0|\xa0",Object(b.jsx)("span",{children:t.datetime})]}),1===t.page&&Object(b.jsxs)("div",{className:"uppercase",children:[Object(b.jsx)("div",{className:"w-1/2 inline-block pr-2",style:{height:"".concat(120,"px")},children:Object(b.jsx)("table",{className:"w-full",children:Object(b.jsxs)("tbody",{children:[Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{className:"text-right font-semibold",children:"Digitador: "}),Object(b.jsx)("td",{children:m(t.username)})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{className:"text-right font-semibold",children:"Almacenero(s):"}),Object(b.jsx)("td",{className:"border-b border-black"})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{className:"text-right font-semibold",children:"Inicio: "}),Object(b.jsx)("td",{children:"\xa0\xa0/\xa0\xa0/\xa0\xa0-\xa0\xa0\xa0:\xa0\xa0"})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{className:"text-right font-semibold",children:"Fin: "}),Object(b.jsx)("td",{children:"\xa0\xa0/\xa0\xa0/\xa0\xa0-\xa0\xa0\xa0:\xa0\xa0"})]})]})})}),Object(b.jsx)("div",{className:"w-1/2 inline-block pl-2",style:{height:"".concat(120,"px")},children:Object(b.jsx)("table",{children:Object(b.jsxs)("tbody",{children:[Object(b.jsx)("tr",{children:Object(b.jsx)("td",{colSpan:2,className:"leading-[14px] break-all",children:t.partner_name})}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{className:"w-[150px] text-right font-semibold",children:"Factura:"}),Object(b.jsx)("td",{children:t.partner_ref})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{className:"w-[150px] text-right font-semibold",children:"Cantidad Total:"}),Object(b.jsx)("td",{children:r})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{className:"w-[150px] text-right font-semibold",children:"Destino:"}),Object(b.jsx)("td",{children:a.name})]})]})})})]})]})},S=function(e){var t=e.order_details,r=e.order_lines;return Object(b.jsxs)("div",{className:"text-xs border-b border-black border-dashed mb-2",style:{height:"".concat(850+(1===t.page?0:125),"px")},children:[Object(b.jsxs)("div",{className:"font-semibold",children:[Object(b.jsx)("span",{className:"border-l border-t border-r border-b border-black p-1 inline-block w-[65%]",children:"DESCRIPCI\xd3N"}),Object(b.jsx)("span",{className:"border-t border-r border-b border-black p-1 inline-block w-[15%]",children:"MARCA"}),Object(b.jsx)("span",{className:"border-t border-r border-b border-black p-1 inline-block w-[5%]",children:"CNT"}),Object(b.jsx)("span",{className:"border-t border-r border-b border-black p-1 inline-block w-[calc(15%/3)]",children:"ALM"}),Object(b.jsx)("span",{className:"border-t border-r border-b border-black p-1 inline-block w-[calc(15%/3)]",children:"VAL"}),Object(b.jsx)("span",{className:"border-t border-r border-b border-black p-1 inline-block w-[calc(15%/3)]",children:"OBS"})]}),r.map((function(e,t){return Object(b.jsxs)("div",{className:"flex even:bg-gray-200",style:{height:"".concat(16*e.lineHeight+8,"px")},children:[Object(b.jsx)("div",{className:"border-l border-r border-b border-black p-1 inline-flex items-center break-all w-[65%]",children:Object(b.jsx)("span",{className:"",children:e.name})}),Object(b.jsx)("div",{className:"border-r border-b border-black p-1 inline-flex items-center break-all w-[15%]",children:Object(b.jsx)("span",{className:"",children:e.cats.split(" / ")[2]})}),Object(b.jsx)("div",{className:"border-r border-b border-black p-1 inline-flex items-center w-[5%]",children:Object(b.jsx)("span",{className:"",children:e.quantity})}),Object(b.jsx)("div",{className:"border-r border-b border-black p-1 inline-flex items-center justify-center w-[calc(15%/3)]"}),Object(b.jsx)("div",{className:"border-r border-b border-black p-1 inline-flex items-center justify-center w-[calc(15%/3)]"}),Object(b.jsx)("div",{className:"border-r border-b border-black p-1 inline-flex items-center justify-center w-[calc(15%/3)]"})]},t)}))]})},T=(r(20),function(e){var t=e.orderGroup,r=e.totalQty,a=e.store;return Object(b.jsx)("div",{className:"font-mono text-sm",children:Object(b.jsxs)("div",{className:"sheet-page w-[210mm] h-[297mm] my-[10mm] mx-auto py-8 px-12 border border-black bg-white",children:[Object(b.jsx)(E,{order_details:t.order_details,totalQty:r,store:a}),Object(b.jsx)(S,{order_details:t.order_details,order_lines:t.order_lines}),Object(b.jsx)(j,{order_details:t.order_details})]})})}),h=[{id:1,name:"abtao"},{id:2,name:"san martin"}],N=function(e){var t=e.store,r=e.updateStore;return Object(b.jsx)("div",{className:"no-print px-12 mx-8 mt-2",children:Object(b.jsxs)("div",{className:"font-mono",children:[Object(b.jsx)("label",{children:"DESTINO: "}),Object(b.jsx)("select",{className:"uppercase",value:t.id,onChange:r,children:h.map((function(e){return Object(b.jsx)("option",{value:e.id,children:e.name},e.id)}))})]})})},u=r(9),D=function(){var e=Object(a.useState)(h[0]),t=Object(i.a)(e,2),r=t[0],n=t[1],s=Object(a.useState)([]),c=Object(i.a)(s,2),A=c[0],d=c[1],l=Object(a.useState)(0),o=Object(i.a)(l,2),j=o[0],m=o[1];Object(a.useEffect)((function(){!function(){var e=new O({order_details:u.order_details,order_lines:u.order_lines});d(e.getGroups()),m(e.getTotalQty)}()}),[]);return Object(b.jsxs)("div",{children:[Object(b.jsx)(N,{store:r,updateStore:function(e){var t=Number(e.target.value),r=h.find((function(e){return e.id===t}));r&&n(r)}}),A.map((function(e,t){return Object(b.jsx)(T,{orderGroup:e,totalQty:j,store:r},t)}))]})},x=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,22)).then((function(t){var r=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,c=t.getTTFB;r(e),a(e),n(e),s(e),c(e)}))};c.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(D,{})}),document.getElementById("root")),x()},9:function(e){e.exports=JSON.parse('{"statusCode":200,"allLabels":"ALL","order_details":{"username":"Joan Mark Sacramento Aguilar","datetime":"2021-08-04 16:34:03","name":"PO03612","partner_name":"NEGOCIOS, INVERSIONES E IMPORTACIONES WINNER SOCIEDAD ANONIMA CERRADA - NEIMPORT.WEDAD ANONIMA CERRADA - NEIMPORT.WINNER S.A.C.","partner_ref":""},"order_lines":[{"name":"[ EK4656MS] CHAQUETA VARON ELT EK4656MS (S)","cats":"CABALLERO / CHAQUETA / ELT","quantity":1,"datetime":"2021-08-04 16:18:12"},{"name":"[ EK4656MS] CHAQUETA VARON ELT EK4656MS (M)","cats":"CABALLERO / CHAQUETA / ELT","quantity":1,"datetime":"2021-08-04 16:18:12"},{"name":"[ EK4656MS] CHAQUETA VARON ELT EK4656MS (L)","cats":"CABALLERO / CHAQUETA / ELT","quantity":1,"datetime":"2021-08-04 16:18:12"},{"name":"[ EK4656MS] CHAQUETA VARON ELT EK4656MS (XL)","cats":"CABALLERO / CHAQUETA / ELT","quantity":1,"datetime":"2021-08-04 16:18:12"},{"name":"[ EK4656MS] CHAQUETA VARON ELT EK4656MS (2XL)","cats":"CABALLERO / CHAQUETA / ELT","quantity":1,"datetime":"2021-08-04 16:18:12"},{"name":"[AZUL35] PANTALONETA LICRADO (AZUL, S)","cats":"DAMA / PESCADOR / TATSY","quantity":1,"datetime":"2021-08-04 16:26:05"},{"name":"[A.JASPEADO35] PANTALONETA LICRADO (AZUL JASPEADO, S)","cats":"DAMA / PESCADOR / TATSY","quantity":1,"datetime":"2021-08-04 16:26:05"},{"name":"[ROSADO35] PANTALONETA LICRADO (ROSADO, S)","cats":"DAMA / PESCADOR / TATSY","quantity":1,"datetime":"2021-08-04 16:26:05"},{"name":"[R.JASPEADO35] PANTALONETA LICRADO (ROSADO JASPEADO, S)","cats":"DAMA / PESCADOR / TATSY","quantity":1,"datetime":"2021-08-04 16:26:05"},{"name":"[V.JASPEADO35] PANTALONETA LICRADO (VERDE C. JASPEADO, S)","cats":"DAMA / PESCADOR / TATSY","quantity":1,"datetime":"2021-08-04 16:26:05"},{"name":"[N.JASPEADO35] PANTALONETA LICRADO (NEGRO JASPEADO, S)","cats":"DAMA / PESCADOR / TATSY","quantity":1,"datetime":"2021-08-04 16:26:05"},{"name":"[A.MARINO35] PANTALONETA LICRADO (AZUL MARINO, S)","cats":"DAMA / PESCADOR / TATSY","quantity":1,"datetime":"2021-08-04 16:26:05"},{"name":"[MORADO35] PANTALONETA LICRADO (MORADO, S)","cats":"DAMA / PESCADOR / TATSY","quantity":1,"datetime":"2021-08-04 16:26:05"},{"name":"[VERDE35] PANTALONETA LICRADO (VERDE, S)","cats":"DAMA / PESCADOR / TATSY","quantity":1,"datetime":"2021-08-04 16:26:05"},{"name":"[M.JASPEADO35] PANTALONETA LICRADO (MORADO JASPEADO, S)","cats":"DAMA / PESCADOR / TATSY","quantity":1,"datetime":"2021-08-04 16:26:05"},{"name":"[GRIS35] PANTALONETA LICRADO (GRIS, S)","cats":"DAMA / PESCADOR / TATSY","quantity":1,"datetime":"2021-08-04 16:26:05"},{"name":"[V.JASPEADO35] PANTALONETA LICRADO (VERDE JASPEADO, S)","cats":"DAMA / PESCADOR / TATSY","quantity":1,"datetime":"2021-08-04 16:26:05"},{"name":"[PLOMO35] PANTALONETA LICRADO (PLOMO, S)","cats":"DAMA / PESCADOR / TATSY","quantity":1,"datetime":"2021-08-04 16:26:05"},{"name":"[H.JASPEADO35] PANTALONETA LICRADO (HUESO JASPEADO, S)","cats":"DAMA / PESCADOR / TATSY","quantity":1,"datetime":"2021-08-04 16:26:05"},{"name":"[A.M.JASPEADO35] PANTALONETA LICRADO (AZUL MARINO JASPEADO, S)","cats":"DAMA / PESCADOR / TATSY","quantity":1,"datetime":"2021-08-04 16:26:05"},{"name":"[GUINDA35] PANTALONETA LICRADO (GUINDA, S)","cats":"DAMA / PESCADOR / TATSY","quantity":1,"datetime":"2021-08-04 16:26:05"},{"name":"[VINO35] PANTALONETA LICRADO (VINO, S)","cats":"DAMA / PESCADOR / TATSY","quantity":1,"datetime":"2021-08-04 16:26:05"},{"name":"[HUESO35] PANTALONETA LICRADO (HUESO, S)","cats":"DAMA / PESCADOR / TATSY","quantity":1,"datetime":"2021-08-04 16:26:05"},{"name":"[P.JASPEADO] PANTALONETA LICRADO (PLOMO JASPEADO, S)","cats":"DAMA / PESCADOR / TATSY","quantity":1,"datetime":"2021-08-04 16:26:05"},{"name":"[MELANGE35] PANTALONETA LICRADO (MELANGE, S)","cats":"DAMA / PESCADOR / TATSY","quantity":1,"datetime":"2021-08-04 16:26:05"},{"name":"PANTALONETA LICRADO (PALO ROSA, S)","cats":"DAMA / PESCADOR / TATSY","quantity":1,"datetime":"2021-08-04 16:26:05"},{"name":"PANTALONETA LICRADO (CAMOTE, S)","cats":"DAMA / PESCADOR / TATSY","quantity":1,"datetime":"2021-08-04 16:26:05"},{"name":"[NEGRO35] PANTALONETA LICRADO (NEGRO, S)","cats":"DAMA / PESCADOR / TATSY","quantity":1,"datetime":"2021-08-04 16:26:05"},{"name":"[018416216STO/MIN] PANTALON JEAN BI21/IBBIZA DENIM STRECH (STONE MINERAL, 28)","cats":"DAMA / PANTALON / LOIS","quantity":1,"datetime":"2021-08-04 16:32:04"}]}')}},[[21,1,2]]]);
//# sourceMappingURL=main.aa5877de.chunk.js.map