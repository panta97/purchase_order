(this.webpackJsonppurchase_order=this.webpackJsonppurchase_order||[]).push([[0],{17:function(e,t,r){},20:function(e,t,r){},21:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r.n(a),s=r(10),c=r.n(s),i=(r(17),r(3)),A=r.n(i),d=r(4),l=r(7),o=r(2),O=r(6),b=r(11),j=r(12),m=function(){function e(t){var r=this;Object(b.a)(this,e),this.MAX_HEIGHT_HEADER=800,this.MAX_HEIGHT=928,this.order=void 0,this.orderGroups=[],this.getTotalQty=function(){var e,t=0,a=Object(O.a)(r.order.order_lines);try{for(a.s();!(e=a.n()).done;){t+=e.value.quantity}}catch(n){a.e(n)}finally{a.f()}return t},this.order=t}return Object(j.a)(e,[{key:"getHeight",value:function(e){return 16*e+8}},{key:"getGroups",value:function(){this.orderGroups=[];var e,t=0,r=1,a=0,n={order_details:Object(o.a)(Object(o.a)({},this.order.order_details),{},{page:r,totalPages:0}),order_lines:[]},s=Object(O.a)(this.order.order_lines);try{for(s.s();!(e=s.n()).done;){var c=e.value,i=Math.ceil(c.name.length/61),A=Math.ceil(c.cats.split(" / ")[2].length/13),d=Math.ceil(String(c.quantity).length/4),l=Math.max(i,A,d),b=Object(o.a)(Object(o.a)({},c),{},{lineHeight:l});n.order_lines.push(b),(a+=this.getHeight(l))>(0===this.orderGroups.length?this.MAX_HEIGHT_HEADER:this.MAX_HEIGHT)&&(n.order_lines.pop(),this.orderGroups.push(n),r++,t+=1,a=this.getHeight(b.lineHeight),n={order_details:Object(o.a)(Object(o.a)({},this.order.order_details),{},{page:r,totalPages:0}),order_lines:[b]})}}catch(u){s.e(u)}finally{s.f()}n.order_lines.length>0&&(this.orderGroups.push(n),t+=1);var j,m=Object(O.a)(this.orderGroups);try{for(m.s();!(j=m.n()).done;){j.value.order_details.totalPages=t}}catch(u){m.e(u)}finally{m.f()}return this.orderGroups}}]),e}(),u=r(0),E=function(e){var t=e.order_details;return Object(u.jsxs)("div",{children:["P\xe1gina ",t.page," de ",t.totalPages]})},h=function(e){var t=e.split(" ");return t.length>2?"".concat(t[0]," ").concat(t[1]):e},S=function(e){var t=e.order_details,r=e.totalQty,a=e.store;return Object(u.jsxs)("div",{className:"border-b border-black border-dashed mb-2",children:[Object(u.jsxs)("h2",{className:"text-lg font-semibold",children:[Object(u.jsx)("span",{children:t.name}),"\xa0|\xa0",Object(u.jsx)("span",{children:t.datetime})]}),1===t.page&&Object(u.jsxs)("div",{className:"uppercase",children:[Object(u.jsx)("div",{className:"w-1/2 inline-block pr-2",style:{height:"".concat(120,"px")},children:Object(u.jsx)("table",{className:"w-full",children:Object(u.jsxs)("tbody",{children:[Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"text-right font-semibold",children:"Digitador: "}),Object(u.jsx)("td",{children:h(t.username)})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"text-right font-semibold",children:"Almacenero(s):"}),Object(u.jsx)("td",{className:"border-b border-black"})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"text-right font-semibold",children:"Inicio: "}),Object(u.jsx)("td",{children:"\xa0\xa0/\xa0\xa0/\xa0\xa0-\xa0\xa0\xa0:\xa0\xa0"})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"text-right font-semibold",children:"Fin: "}),Object(u.jsx)("td",{children:"\xa0\xa0/\xa0\xa0/\xa0\xa0-\xa0\xa0\xa0:\xa0\xa0"})]})]})})}),Object(u.jsx)("div",{className:"w-1/2 inline-block pl-2",style:{height:"".concat(120,"px")},children:Object(u.jsx)("table",{children:Object(u.jsxs)("tbody",{children:[Object(u.jsx)("tr",{children:Object(u.jsx)("td",{colSpan:2,className:"leading-[14px] break-all",children:t.partner_name})}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"w-[150px] text-right font-semibold",children:"Factura:"}),Object(u.jsx)("td",{children:t.partner_ref})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"w-[150px] text-right font-semibold",children:"Cantidad Total:"}),Object(u.jsx)("td",{children:r})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"w-[150px] text-right font-semibold",children:"Destino:"}),Object(u.jsx)("td",{children:a.name})]})]})})})]})]})},T=function(e){var t=e.order_details,r=e.order_lines;return Object(u.jsxs)("div",{className:"text-xs border-b border-black border-dashed mb-2",style:{height:"".concat(850+(1===t.page?0:125),"px")},children:[Object(u.jsxs)("div",{className:"font-semibold",children:[Object(u.jsx)("span",{className:"border-l border-t border-r border-b border-black p-1 inline-block w-[65%]",children:"DESCRIPCI\xd3N"}),Object(u.jsx)("span",{className:"border-t border-r border-b border-black p-1 inline-block w-[15%]",children:"MARCA"}),Object(u.jsx)("span",{className:"border-t border-r border-b border-black p-1 inline-block w-[5%]",children:"CNT"}),Object(u.jsx)("span",{className:"border-t border-r border-b border-black p-1 inline-block w-[calc(15%/3)]",children:"ALM"}),Object(u.jsx)("span",{className:"border-t border-r border-b border-black p-1 inline-block w-[calc(15%/3)]",children:"VAL"}),Object(u.jsx)("span",{className:"border-t border-r border-b border-black p-1 inline-block w-[calc(15%/3)]",children:"OBS"})]}),r.map((function(e,t){return Object(u.jsxs)("div",{className:"flex even:bg-gray-200",style:{height:"".concat(16*e.lineHeight+8,"px")},children:[Object(u.jsx)("div",{className:"border-l border-r border-b border-black p-1 inline-flex items-center break-all w-[65%]",children:Object(u.jsx)("span",{className:"",children:e.name})}),Object(u.jsx)("div",{className:"border-r border-b border-black p-1 inline-flex items-center break-all w-[15%]",children:Object(u.jsx)("span",{className:"",children:e.cats.split(" / ")[2]})}),Object(u.jsx)("div",{className:"border-r border-b border-black p-1 inline-flex items-center w-[5%]",children:Object(u.jsx)("span",{className:"",children:e.quantity})}),Object(u.jsx)("div",{className:"border-r border-b border-black p-1 inline-flex items-center justify-center w-[calc(15%/3)]"}),Object(u.jsx)("div",{className:"border-r border-b border-black p-1 inline-flex items-center justify-center w-[calc(15%/3)]"}),Object(u.jsx)("div",{className:"border-r border-b border-black p-1 inline-flex items-center justify-center w-[calc(15%/3)]"})]},t)}))]})},N=(r(20),function(e){var t=e.orderGroup,r=e.totalQty,a=e.store;return Object(u.jsx)("div",{className:"font-mono text-sm",children:Object(u.jsxs)("div",{className:"sheet-page w-[210mm] h-[297mm] my-[10mm] mx-auto py-8 px-12 border border-black bg-white",children:[Object(u.jsx)(S,{order_details:t.order_details,totalQty:r,store:a}),Object(u.jsx)(T,{order_details:t.order_details,order_lines:t.order_lines}),Object(u.jsx)(E,{order_details:t.order_details})]})})}),D=[{id:1,name:"abtao"},{id:2,name:"san martin"}],x=function(e){var t=e.store,r=e.updateStore;return Object(u.jsx)("div",{className:"no-print px-12 mx-8 mt-2",children:Object(u.jsxs)("div",{className:"font-mono",children:[Object(u.jsx)("label",{children:"DESTINO: "}),Object(u.jsx)("select",{className:"uppercase",value:t.id,onChange:r,children:D.map((function(e){return Object(u.jsx)("option",{value:e.id,children:e.name},e.id)}))})]})})},p=function(){var e=Object(d.a)(A.a.mark((function e(t){var r,a,n,s,c,i,d,l;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.get("model"),a=t.get("id"),n="".concat(t.get("api"),"?model=").concat(r,"&id=").concat(a),s={headers:{"x-api-key":t.get("key")}},r&&a&&n&&s){e.next=6;break}return e.abrupt("return");case 6:return e.prev=6,e.next=9,fetch(n,s);case 9:return e.next=11,e.sent.json();case 11:if(200!==(c=e.sent).statusCode){e.next=17;break}return i=c.order_details,d=c.order_lines,l={order_details:i,order_lines:d},e.abrupt("return",l);case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(6),console.log(e.t0);case 22:case"end":return e.stop()}}),e,null,[[6,19]])})));return function(t){return e.apply(this,arguments)}}(),R=(r(9),function(){var e=Object(a.useState)(D[0]),t=Object(l.a)(e,2),r=t[0],n=t[1],s=Object(a.useState)([]),c=Object(l.a)(s,2),i=c[0],o=c[1],O=Object(a.useState)(0),b=Object(l.a)(O,2),j=b[0],E=b[1],h=function(){var e=Object(d.a)(A.a.mark((function e(){var t,r,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new URLSearchParams(window.location.search),e.next=3,p(t);case 3:if(r=e.sent){e.next=6;break}return e.abrupt("return");case 6:a=new m(r),o(a.getGroups()),E(a.getTotalQty);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){h()}),[]);return Object(u.jsxs)("div",{children:[Object(u.jsx)(x,{store:r,updateStore:function(e){var t=Number(e.target.value),r=D.find((function(e){return e.id===t}));r&&n(r)}}),i.map((function(e,t){return Object(u.jsx)(N,{orderGroup:e,totalQty:j,store:r},t)}))]})}),L=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,22)).then((function(t){var r=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,c=t.getTTFB;r(e),a(e),n(e),s(e),c(e)}))};c.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(R,{})}),document.getElementById("root")),L()},9:function(e){e.exports=JSON.parse('{"statusCode":200,"allLabels":"ALL","order_details":{"username":"Joan Mark Sacramento Aguilar","datetime":"2021-08-04 16:34:03","name":"PO03612","partner_name":"NEGOCIOS, INVERSIONES E IMPORTACIONES WINNER SOCIEDAD ANONIMA CERRADA - NEIMPORT.WEDAD ANONIMA CERRADA - NEIMPORT.WINNER S.A.C.","partner_ref":""},"order_lines":[{"name":"[ EK4656MS] CHAQUETA VARON ELT EK4656MS (S)","cats":"CABALLERO / CHAQUETA / ELT","quantity":1,"datetime":"2021-08-04 16:18:12"},{"name":"[ EK4656MS] CHAQUETA VARON ELT EK4656MS (M)","cats":"CABALLERO / CHAQUETA / ELT","quantity":1,"datetime":"2021-08-04 16:18:12"},{"name":"[ EK4656MS] CHAQUETA VARON ELT EK4656MS (L)","cats":"CABALLERO / CHAQUETA / ELT","quantity":1,"datetime":"2021-08-04 16:18:12"},{"name":"[ EK4656MS] CHAQUETA VARON ELT EK4656MS (XL)","cats":"CABALLERO / CHAQUETA / ELT","quantity":1,"datetime":"2021-08-04 16:18:12"},{"name":"[ EK4656MS] CHAQUETA VARON ELT EK4656MS (2XL)","cats":"CABALLERO / CHAQUETA / ELT","quantity":1,"datetime":"2021-08-04 16:18:12"},{"name":"[AZUL35] PANTALONETA LICRADO (AZUL, S)","cats":"DAMA / PESCADOR / TATSY","quantity":1,"datetime":"2021-08-04 16:26:05"},{"name":"[A.JASPEADO35] PANTALONETA LICRADO (AZUL JASPEADO, S)","cats":"DAMA / PESCADOR / TATSY","quantity":1,"datetime":"2021-08-04 16:26:05"},{"name":"[ROSADO35] PANTALONETA LICRADO (ROSADO, S)","cats":"DAMA / PESCADOR / TATSY","quantity":1,"datetime":"2021-08-04 16:26:05"},{"name":"[R.JASPEADO35] PANTALONETA LICRADO (ROSADO JASPEADO, S)","cats":"DAMA / PESCADOR / TATSY","quantity":1,"datetime":"2021-08-04 16:26:05"},{"name":"[V.JASPEADO35] PANTALONETA LICRADO (VERDE C. JASPEADO, S)","cats":"DAMA / PESCADOR / TATSY","quantity":1,"datetime":"2021-08-04 16:26:05"},{"name":"[N.JASPEADO35] PANTALONETA LICRADO (NEGRO JASPEADO, S)","cats":"DAMA / PESCADOR / TATSY","quantity":1,"datetime":"2021-08-04 16:26:05"},{"name":"[A.MARINO35] PANTALONETA LICRADO (AZUL MARINO, S)","cats":"DAMA / PESCADOR / TATSY","quantity":1,"datetime":"2021-08-04 16:26:05"},{"name":"[MORADO35] PANTALONETA LICRADO (MORADO, S)","cats":"DAMA / PESCADOR / TATSY","quantity":1,"datetime":"2021-08-04 16:26:05"},{"name":"[VERDE35] PANTALONETA LICRADO (VERDE, S)","cats":"DAMA / PESCADOR / TATSY","quantity":1,"datetime":"2021-08-04 16:26:05"},{"name":"[M.JASPEADO35] PANTALONETA LICRADO (MORADO JASPEADO, S)","cats":"DAMA / PESCADOR / TATSY","quantity":1,"datetime":"2021-08-04 16:26:05"},{"name":"[GRIS35] PANTALONETA LICRADO (GRIS, S)","cats":"DAMA / PESCADOR / TATSY","quantity":1,"datetime":"2021-08-04 16:26:05"},{"name":"[V.JASPEADO35] PANTALONETA LICRADO (VERDE JASPEADO, S)","cats":"DAMA / PESCADOR / TATSY","quantity":1,"datetime":"2021-08-04 16:26:05"},{"name":"[PLOMO35] PANTALONETA LICRADO (PLOMO, S)","cats":"DAMA / PESCADOR / TATSY","quantity":1,"datetime":"2021-08-04 16:26:05"},{"name":"[H.JASPEADO35] PANTALONETA LICRADO (HUESO JASPEADO, S)","cats":"DAMA / PESCADOR / TATSY","quantity":1,"datetime":"2021-08-04 16:26:05"},{"name":"[A.M.JASPEADO35] PANTALONETA LICRADO (AZUL MARINO JASPEADO, S)","cats":"DAMA / PESCADOR / TATSY","quantity":1,"datetime":"2021-08-04 16:26:05"},{"name":"[GUINDA35] PANTALONETA LICRADO (GUINDA, S)","cats":"DAMA / PESCADOR / TATSY","quantity":1,"datetime":"2021-08-04 16:26:05"},{"name":"[VINO35] PANTALONETA LICRADO (VINO, S)","cats":"DAMA / PESCADOR / TATSY","quantity":1,"datetime":"2021-08-04 16:26:05"},{"name":"[HUESO35] PANTALONETA LICRADO (HUESO, S)","cats":"DAMA / PESCADOR / TATSY","quantity":1,"datetime":"2021-08-04 16:26:05"},{"name":"[P.JASPEADO] PANTALONETA LICRADO (PLOMO JASPEADO, S)","cats":"DAMA / PESCADOR / TATSY","quantity":1,"datetime":"2021-08-04 16:26:05"},{"name":"[MELANGE35] PANTALONETA LICRADO (MELANGE, S)","cats":"DAMA / PESCADOR / TATSY","quantity":1,"datetime":"2021-08-04 16:26:05"},{"name":"PANTALONETA LICRADO (PALO ROSA, S)","cats":"DAMA / PESCADOR / TATSY","quantity":1,"datetime":"2021-08-04 16:26:05"},{"name":"PANTALONETA LICRADO (CAMOTE, S)","cats":"DAMA / PESCADOR / TATSY","quantity":1,"datetime":"2021-08-04 16:26:05"},{"name":"[NEGRO35] PANTALONETA LICRADO (NEGRO, S)","cats":"DAMA / PESCADOR / TATSY","quantity":1,"datetime":"2021-08-04 16:26:05"},{"name":"[018416216STO/MIN] PANTALON JEAN BI21/IBBIZA DENIM STRECH (STONE MINERAL, 28)","cats":"DAMA / PANTALON / LOIS","quantity":1,"datetime":"2021-08-04 16:32:04"}]}')}},[[21,1,2]]]);
//# sourceMappingURL=main.7d0defd9.chunk.js.map